import streamlit as st
import random
import time

# -------------------------------
# MBTI별 공부법 데이터
# -------------------------------
study_tips = {
    "ISTJ": "📚 체계적인 계획을 세우고, 규칙적으로 복습하세요! \n🗂️ 체크리스트를 만들어 하나씩 지워가는 게 효과적이에요.",
    "ISFJ": "🤝 누군가에게 설명하듯 공부하면 기억이 쏙쏙! \n🌸 따뜻한 환경에서 차분하게 공부하는 게 좋아요.",
    "INFJ": "🧘‍♂️ 깊이 있는 통찰을 얻는 데 강점이 있어요. \n🖋️ 개념을 스스로 정리하고 글로 남기면 효과적이에요.",
    "INTJ": "🎯 장기적인 목표를 세우고, 큰 그림을 보며 공부하세요. \n💡 독창적인 학습 전략을 만들어보는 것도 좋아요.",
    "ISTP": "🔧 문제를 직접 풀어보면서 이해하는 게 최고! \n⚡ 실험적이고 실습 위주의 학습을 즐기세요.",
    "ISFP": "🎨 창의적인 방법을 활용하면 기억이 오래가요. \n🎶 음악을 들으며 공부하면 집중이 잘 돼요.",
    "INFP": "💭 상상력을 자극하는 방식으로 공부하세요. \n📖 스토리텔링이나 그림으로 내용을 정리해보세요.",
    "INTP": "🧩 개념을 연결하고 구조화하는 데 강점이 있어요. \n💻 마인드맵이나 노션 같은 툴로 정리해보세요.",
    "ESTP": "🔥 액션으로 배우는 게 최고! \n⏱️ 짧고 집중적인 공부 세션을 추천해요.",
    "ESFP": "🎉 즐겁게 해야 오래갑니다! \n👯 스터디 그룹에서 친구들과 함께 공부하면 효과 만점.",
    "ENFP": "🌈 다양한 아이디어를 떠올리며 공부하세요. \n🗺️ 색깔펜, 스티커, 마인드맵 활용 강추!",
    "ENTP": "⚡ 토론하면서 배우는 게 효과적! \n🎤 개념을 친구에게 설명하듯 말해보세요.",
    "ESTJ": "📊 철저한 계획과 규율이 공부 효율을 높입니다. \n✅ 시간표를 만들고 성실하게 지켜보세요.",
    "ESFJ": "👥 협력적 환경에서 학습하면 좋아요. \n💌 플래시카드로 친구와 퀴즈를 주고받아보세요.",
    "ENFJ": "🌟 다른 사람을 가르치며 배우는 게 가장 효과적! \n📅 그룹 스터디 리더를 맡아보세요.",
    "ENTJ": "🚀 목표 지향적 학습 스타일! \n📈 도전적인 계획을 세우고 성취감을 느껴보세요.",
}

# -------------------------------
# 스트림릿 앱 UI
# -------------------------------
st.set_page_config(page_title="MBTI 공부법 추천기", page_icon="🎓", layout="centered")

st.title("✨ MBTI 공부법 추천기 🎓")
st.markdown("당신의 MBTI를 선택하면, 그에 맞는 **최고의 공부법**을 알려드립니다! 🔮")

# MBTI 선택
mbti = st.selectbox("👇 당신의 MBTI를 선택하세요", list(study_tips.keys()))

# 버튼 클릭 시 결과 보여주기
if st.button("추천 공부법 보기 🚀"):
    with st.spinner("당신에게 꼭 맞는 공부법을 분석 중이에요... 🤔✨"):
        time.sleep(2)  # 재미있는 효과용 딜레이
    
    # 랜덤 이모지 효과
    emojis = ["🎉", "🚀", "💡", "🔥", "🌟", "📚", "🧠", "✨", "💎", "🌈"]
    effect = "".join(random.choices(emojis, k=10))
    
    st.success(f"당신의 MBTI: **{mbti}** {effect}")
    st.write(study_tips[mbti])
    
    st.balloons()  # 풍선 효과

# 사이드바
st.sidebar.title("🔧 설정")
st.sidebar.info("이 앱은 재미로 만든 MBTI 공부법 추천기예요. \n과학적 근거는 없으니 가볍게 즐겨주세요 😆")
